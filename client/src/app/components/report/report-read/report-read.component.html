<div class="max-wid mat-elevation">
    <h1>Relatório Gerencial</h1>
    <div class="req-rel">
        <p>Digite o ano-mês "aaaa-mm" (exemplo: 2021-07):</p>
        <form action="" method="get">
            <input class="input-date" type="text" matInput placeholder="digite a data" [(ngModel)]="dateGet" name="dateGet" required> 
        </form>
        <button type="submit" (click)="getReadData()" color="primary">enviar</button>
    </div> 

    <div id="to_pdf" *ngIf="results">
        <table mat-table [dataSource]="results">
            <ng-container matColumnDef="faturamento">
                <th mat-header-cell *matHeaderCellDef>Faturamento Total</th>
                <td mat-cell *matCellDef="let row">{{row.faturamento}}</td>
            </ng-container>
    
            <ng-container matColumnDef="lucro">
                <th mat-header-cell *matHeaderCellDef>Lucro da Imobiliária</th>
                <td mat-cell *matCellDef="let row">{{row.lucro}}</td>
            </ng-container>
    
            <ng-container matColumnDef="qtdImoveisVendidos">
                <th mat-header-cell *matHeaderCellDef>Nº Imóveis Vendidos</th>
                <td mat-cell *matCellDef="let row">{{row.qtdImoveisVendidos}}</td>
            </ng-container>
    
            <ng-container matColumnDef="qtdImoveisEncalhados">
                <th mat-header-cell *matHeaderCellDef>Nº Imóveis Encalhados</th>
                <td mat-cell *matCellDef="let row">{{row.qtdImoveisEncalhados}}</td>
            </ng-container>
    
            <ng-container matColumnDef="listaFaturamentoCorretores">
                <th mat-header-cell *matHeaderCellDef>Faturamento dos Corretores</th>
                <td mat-cell *matCellDef="let row">
                    <span *ngFor="let nome of row.listaFaturamentoCorretores">
                        <span class="block">
                            {{nome.nome}}  
                            &nbsp;&nbsp;
                            <i>Faturamento: </i>{{nome.faturamento}},
                        </span>
                        &nbsp;
                    </span>
                </td>
            </ng-container>
    
            <ng-container matColumnDef="listaPagamento">
                <th mat-header-cell *matHeaderCellDef>Valor Pago aos Corretores</th>
                <td mat-cell *matCellDef="let row">
                    <span *ngFor="let nome of row.listaPagamento">
                        <span class="block">
                            {{nome.nome}}  
                            &nbsp;&nbsp;
                            <i>Pago: </i>{{nome.pagamento}},
                        </span>
                        &nbsp;
                    </span>
                </td>
            </ng-container>

            <ng-container matColumnDef="funcionarioMes">
                <th mat-header-cell *matHeaderCellDef>Corretor(es) do mês</th>
                <td mat-cell *matCellDef="let row">
                    <span *ngFor="let nome of row.funcionarioMes">
                        <span class="block">
                            {{nome.nome}}  
                        </span>
                        &nbsp;
                    </span>
                </td>
            </ng-container>

            <ng-container matColumnDef="periodo">
                <th mat-header-cell *matHeaderCellDef>Data</th>
                <td mat-cell *matCellDef="let row">{{row.periodo}}</td>
            </ng-container>
    
            <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
            <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
        </table>
    </div>

    <hr>

    <button>
        <a id="download">Gerar PDF do Relatório</a>
    </button>
</div>